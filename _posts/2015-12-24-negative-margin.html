---
layout: blog-info
title: 负边距（negative margin）在页面布局中的应用
tags: [javascript]
categories: [javascript]
excerpt: css中的负边距(negative margin)是布局中的一个常用技巧，只要运用得合理常常会有意想不到的效果。
---
<h2 class="page-header">负边距在普通文档流中的作用</h2>
<p>对于那些没有脱离文档流的元素，其在页面上的位置是随着文档流的变化而变化的。如图：</p>
[图片占位符]
<p>负边距会将这些元素在文档流中的位置发生偏移，放弃偏移前占据的空间，这样它后面的文档流中的其它元素就会“流”过来填充这部分空间：例如：将块状元素及它的行内元素设置负边距 margin:-10px;</p>
[图片占位符]
<p>看起来像是减小元素在文档流中的尺寸一样，事实上，它的尺寸并没变，只是文档流在计算文件位置的时候，会认为负边距把元素尺寸减小了，因此位置也就发生了变化。</p>
<p>需要注意的是，文档流只能是后面流向前端，即文档流只能向左或向上流动，不能向下或右流动。</p>
<p>比如，一个没有设定高度的块状元素，其高度是自动的，具体来说就是由它里面的文档流最后的位置决定的。假设它里面有一个出于文档流中的子元素，高度为100px;那这时这个父元素的高度就等于子元素的高度100px了，如果子元素继续增高，那么父元素也会跟着增高。可是如果这时子元素设一个负的margin-bottom,比如-20px，因为负边距会影响到文档流，本来文档流的高度是从父元素的最顶端到子元素的最底端这段高度，现在子元素有一个margin-bottom:-20px;就相当于文档流要向上退后20px,这样整个文档流的高度就减少了20px了，那么父元素的高度也会跟着减少20px。在IE8+以及那些标准浏览器中，这还需要父元素拥有一个overflow:hidden的属性，因为父元素的高度变了，但子元素的高度并没有变，所以需要使子元素超出隐藏，但即使不设置overflow:hidden，父元素的高度也是变小了的，只不过这时子元素的高度会超出父元素。在IE6中则不需要，但需要触发它的hasLayout属性。所以以前所说的多列等高布局就是利用这个原理来实现的。</p>

<p>总之一句话，在文档流中，元素的最终边界是由margin决定的，margin为负的时候就相当于元素的边界向里收，文档流认的只是这个边界，不会管你实际的尺寸是多少。</p>

<h2 class="page-header">左和右的负边距对元素宽度的影响</h2>
<p>当元素没有设置宽度时（width:auto是可以的），使用负边距可以增加元素的宽度。如图，被包裹在一个设置了宽度div的绿色块：</p>
[图片占位符]
<p>现在给它设置 margin-left:-100px; margin-right:-100px</p>
[图片占位符]
<p>它的宽度变得更宽了</p>
<h3>它的用途</h3>
<p>创建一个左右靠边，中间等宽间隔的列表效果如图</p>
[图片占位符]
